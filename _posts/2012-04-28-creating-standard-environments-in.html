---
layout: post
title: Creating Standard Environments in Visual Studio ALM 11
date: '2012-04-28T11:21:00.001+01:00'
author: Matteo Emili
tags: 
modified_time: '2012-04-28T11:21:59.850+01:00'
thumbnail: http://lh3.ggpht.com/-0lvp307MzaY/T5vEWTIyZCI/AAAAAAAAAM4/qRJdc0-y50I/s72-c/lab7_thumb%25255B1%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-9050180307874313601.post-8171144201817449219
blogger_orig_url: https://mattvsts.blogspot.com/2012/04/creating-standard-environments-in.html
---

<p>What’s new in Visual Studio Team Lab Management 11? Well, IMHO the most important new feature is the Standard Environments capability.</p> <p>As far as today, if you wanted to use VSTLM you were forced to use Hyper-V and System Center Virtual Machine Manager to get the full flavoured Lab Management. Other kinds of machines could have been used, but it was not that automated and integrated.</p> <p>Today with VSTLM 11 you can use whatever you want reaching almost the functionality of the Hyper-V and SCVMM equivalent! (with some exceptions we're going to see).</p> <p>The only prerequisite is to have a Team Foundation Server 11 (Express, Basic, tfspreview.com, whatever…) with Team Build installed and configured.</p> <p>We have to install the Test Controller…</p> <p><a href="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab0.png"><img title="lab0" border="0" alt="lab0" src="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab0_thumb.png" width="200" height="244"></a><a href="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab1.png"><img title="lab1" border="0" alt="lab1" src="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab1_thumb.png" width="197" height="244"></a><a href="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab2.png"><img title="lab2" border="0" alt="lab2" src="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab2_thumb.png" width="191" height="244"></a></p> <p>…and we have to configure the Test Controller (default configuration at least, which is by setting the linked Project Collection):</p> <p><a href="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab4.png"><img title="lab4" border="0" alt="lab4" src="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab4_thumb.png" width="186" height="244"></a><a href="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab5.png"><img title="lab5" border="0" alt="lab5" src="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab5_thumb.png" width="244" height="196"></a></p> <p>That’s it! Obviously you won’t get the automated provisioning and all it’s related to SCVMM, but now you can use VMWare, Xen Server, physical machines or what you want with no hassle!</p> <p>Let’s see how to create a Standard Environment:</p> <p><a href="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab6.png"><img title="lab6" border="0" alt="lab6" src="http://blogs.ugidotnet.org/images/blogs_ugidotnet_org/j3r/Windows-Live-Writer/Standard-Environment-in-Visual-Studio-Te_12F1A/lab6_thumb.png" width="231" height="244"></a>   <p><a href="http://lh4.ggpht.com/-8jlqf3sUU2w/T5vEViKKDeI/AAAAAAAAAM0/2QOl-dPR8r8/s1600-h/lab7%25255B3%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab7" border="0" alt="lab7" src="http://lh3.ggpht.com/-0lvp307MzaY/T5vEWTIyZCI/AAAAAAAAAM4/qRJdc0-y50I/lab7_thumb%25255B1%25255D.png?imgmax=800" width="448" height="191"></a></p> <p>I insert the machine name, the credentials for the test user (it must be a local administrator on the test machine) and what role does it ‘impersonate’ (it can be: client, server, web server, web client, domain controller, database server).</p> <p>If I need them, I can use some tags:</p> <p><a href="http://lh4.ggpht.com/-p3DTaacV9L0/T5vEWz3BxoI/AAAAAAAAANE/D-PTP4PibO4/s1600-h/lab9%25255B2%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab9" border="0" alt="lab9" src="http://lh4.ggpht.com/-6up52bxvPaQ/T5vEYj_S3aI/AAAAAAAAANM/c1Co5x_U9Dw/lab9_thumb.png?imgmax=800" width="244" height="177"></a>&nbsp; <a href="http://lh3.ggpht.com/-ES_AqaF9AB4/T5vEZuwdXwI/AAAAAAAAANU/U1KRU0fDAgY/s1600-h/lab8%25255B2%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab8" border="0" alt="lab8" src="http://lh6.ggpht.com/-Y8ONISmP6HQ/T5vEbKuGYoI/AAAAAAAAANc/0gIPAk8Vczw/lab8_thumb.png?imgmax=800" width="244" height="192"></a></p>  <p>Then I have to configure the capabilities for the tests I want to execute (unit tests, Coded UI tests, etc.)</p> <p><a href="http://lh4.ggpht.com/-lwmICf8izP0/T5vEbzPVcqI/AAAAAAAAANk/CLjqhfzprhY/s1600-h/lab10%25255B5%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab10" border="0" alt="lab10" src="http://lh5.ggpht.com/-O07V4PgxCfI/T5vEdGgdF6I/AAAAAAAAANs/cbvZ-Sy3QWk/lab10_thumb%25255B1%25255D.png?imgmax=800" width="244" height="157"></a><a href="http://lh5.ggpht.com/-7U30MCfN34Y/T5vEhddczvI/AAAAAAAAAN0/Z1SAPLnJiBA/s1600-h/lab11%25255B2%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab11" border="0" alt="lab11" src="http://lh4.ggpht.com/-bR83iq1R8GA/T5vEiFpEimI/AAAAAAAAAN8/00NuZ-6YKlw/lab11_thumb.png?imgmax=800" width="244" height="163"></a></p> <p>Now it does some checks on prerequisites:</p> <p><a href="http://lh5.ggpht.com/-qtgkb9bkAJY/T5vEjlfjUEI/AAAAAAAAAOE/ADfxAH2QQR4/s1600-h/lab12%25255B2%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab12" border="0" alt="lab12" src="http://lh4.ggpht.com/-7rmLCUhfZFg/T5vEmoz22SI/AAAAAAAAAOM/Z1lbrhGlLuY/lab12_thumb.png?imgmax=800" width="244" height="133"></a></p> <p><a href="http://lh6.ggpht.com/-_dVgag7xCcA/T5vEqqFwpsI/AAAAAAAAAOU/gqpnmOkkhlA/s1600-h/lab13%25255B3%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab13" border="0" alt="lab13" src="http://lh3.ggpht.com/-_dL1bTaU6VE/T5vEsn8NCKI/AAAAAAAAAOc/QyRBmPXikEw/lab13_thumb%25255B1%25255D.png?imgmax=800" width="383" height="110"></a></p> <p>And then, it installs the needed agents and prepares the machine to be used. It takes some minutes, don’t worry <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="http://lh6.ggpht.com/-DzY2lTMvE9A/T5vEtqNwWqI/AAAAAAAAAOk/7HHrxi2g35s/wlEmoticon-smile%25255B2%25255D.png?imgmax=800"></p> <p><a href="http://lh4.ggpht.com/-XgSn4NiK4b0/T5vEutpWYGI/AAAAAAAAAOs/5mORImwrV_Q/s1600-h/lab14%25255B2%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab14" border="0" alt="lab14" src="http://lh5.ggpht.com/-wzBdW0Wx5Tg/T5vEvpjHHxI/AAAAAAAAAO0/oDn5YuZr010/lab14_thumb.png?imgmax=800" width="184" height="202"></a></p> <p>Finished!</p> <p><a href="http://lh3.ggpht.com/-60mUlPUrE6o/T5vEwbAOr1I/AAAAAAAAAO4/Ad8fS3q5QCY/s1600-h/lab15%25255B2%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="lab15" border="0" alt="lab15" src="http://lh6.ggpht.com/-djJP0HdQ6m0/T5vExW0l1dI/AAAAAAAAAPE/MidKmFRop40/lab15_thumb.png?imgmax=800" width="244" height="110"></a></p> <p>Now I can use it for my Build-Deploy-Test cycle. </p> <p>Limitations: I can use only Windows Server 2008, Windows Server 2008 R2 and Windows 7 as a guest OS. For now, there’s no support for Windows 8 and Windows Server 2012, it will be supported by far in RTM or RC (I still don’t know).</p> <p>The machines must be in a Active Directory domain, because you need a trust relationship with the Test Controller in order to automatically install the agents. In a later post we’re going to see how to workaround this and use workgroup machines <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="http://lh6.ggpht.com/-DzY2lTMvE9A/T5vEtqNwWqI/AAAAAAAAAOk/7HHrxi2g35s/wlEmoticon-smile%25255B2%25255D.png?imgmax=800"></p> <p>Last but not least, <a href="http://msdn.microsoft.com/en-us/library/ee390842(v=VS.110).aspx">here</a>’s the MSDN documentation.</p>  