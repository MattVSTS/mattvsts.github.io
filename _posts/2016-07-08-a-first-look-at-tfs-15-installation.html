---
layout: post
title: 'A first look at TFS 15: installation'
date: '2016-07-08T14:32:00.001+01:00'
author: Matteo Emili
tags: 
modified_time: '2016-07-08T14:32:27.181+01:00'
thumbnail: https://lh3.googleusercontent.com/-pQ2Vt2DR57o/V3-rEKUbUoI/AAAAAAAADZQ/LIdY3zlE_Ek/s72-c/wlEmoticon-smile2.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-9050180307874313601.post-4019644047134674999
blogger_orig_url: https://mattvsts.blogspot.com/2016/07/a-first-look-at-tfs-15-installation.html
---

<p>Yesterday Microsoft released Team Foundation Server 15 Preview, and I could not resist installing it as soon as possible <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-bottom-style: none; border-right-style: none; border-left-style: none" alt="Smile" src="https://lh3.googleusercontent.com/-pQ2Vt2DR57o/V3-rEKUbUoI/AAAAAAAADZQ/LIdY3zlE_Ek/wlEmoticon-smile2.png?imgmax=800"></p> <p>The installation process is the same:</p> <p><a href="https://lh3.googleusercontent.com/-hraEvS8FiIU/V3-rFLEUHCI/AAAAAAAADZY/iiT90IVpz2k/s1600-h/tfs15_05.png"><img title="tfs15_0" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_0" src="https://lh3.googleusercontent.com/-A0uqDKDe_do/V3-rF3c353I/AAAAAAAADZg/paE6O2S-U6U/tfs15_0_thumb3.png?imgmax=800" width="351" height="484"></a></p> <p>What changed is the configuration process:</p> <p><a href="https://lh3.googleusercontent.com/-_bdUAVuMaFo/V3-rGq8_ERI/AAAAAAAADZo/qBOMCX7pD2k/s1600-h/tfs15_14.png"><img title="tfs15_1" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_1" src="https://lh3.googleusercontent.com/-l0OIpzLQxO0/V3-rHpTe4nI/AAAAAAAADZw/wu5tVRntPVI/tfs15_1_thumb2.png?imgmax=800" width="524" height="431"></a></p> <p>The configuration of TFS changed to make it more streamlined in its own wizard, but the first thing I saw was the possibility of configuring a <strong>Search Server</strong>. </p> <p><a href="https://lh3.googleusercontent.com/-XzZAQf9l0M0/V3-rIR1V6UI/AAAAAAAADZ4/U8o3hwpZ1r0/s1600-h/tfs15_24.png"><img title="tfs15_2" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_2" src="https://lh3.googleusercontent.com/-MskbCxmd2U0/V3-rJSGjT-I/AAAAAAAADaA/t2ID8TQ1koY/tfs15_2_thumb2.png?imgmax=800" width="524" height="211"></a></p> <p>This is because the Code Search feature relies on Elastic Search, and if you have a large deployment it is really suggested to have the Search Server on its own with high performance disks supporting it. More on that later <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-bottom-style: none; border-right-style: none; border-left-style: none" alt="Smile" src="https://lh3.googleusercontent.com/-pQ2Vt2DR57o/V3-rEKUbUoI/AAAAAAAADZQ/LIdY3zlE_Ek/wlEmoticon-smile2.png?imgmax=800"></p> <p>The TFS configuration now asks for the deployment topology you are using or you are planning to use.</p> <p><a href="https://lh3.googleusercontent.com/-J2p458VVfrU/V3-rKeTNDsI/AAAAAAAADaI/b0E0Ol3HbCk/s1600-h/tfs15_33.png"><img title="tfs15_3" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_3" src="https://lh3.googleusercontent.com/-Av7zyftABuI/V3-rLVI8ROI/AAAAAAAADaQ/C09PnkvSeVI/tfs15_3_thumb1.png?imgmax=800" width="524" height="158"></a></p> <p>Let’s go ahead with a new deployment, and we will be immediately faced with a choice:</p> <p><a href="https://lh3.googleusercontent.com/-9t2cpMn3pOM/V3-rMmyRyDI/AAAAAAAADaY/aLLqPquJf94/s1600-h/tfs15_613.png"><img title="tfs15_6" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_6" src="https://lh3.googleusercontent.com/-qxjzq5pBsCw/V3-rNp7GT0I/AAAAAAAADag/KFC-B5Y8q6s/tfs15_6_thumb5.png?imgmax=800" width="524" height="234"></a></p> <p>Selecting the Basic scenario the only two things we need to set are the SQL Instance (SQL Express as a default, otherwise an existing SQL Server. Nothing changed from the previous versions):</p> <p><a href="https://lh3.googleusercontent.com/--e18w4xbe5M/V3-rOWoA7MI/AAAAAAAADao/BaaEHpf4YZs/s1600-h/tfs15_43.png"><img title="tfs15_4" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_4" src="https://lh3.googleusercontent.com/--AYGPBiDAuQ/V3-rPQNZ40I/AAAAAAAADaw/mhOYWWoFCPc/tfs15_4_thumb1.png?imgmax=800" width="524" height="180"></a></p> <p>and Search:</p> <p><a href="https://lh3.googleusercontent.com/-J6KHS5J0sKw/V3-rQEtGsrI/AAAAAAAADa4/Cgm_EU5z9Ek/s1600-h/tfs15_53.png"><img title="tfs15_5" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_5" src="https://lh3.googleusercontent.com/-dUub_YnQuPQ/V3-rRK-b3EI/AAAAAAAADbA/kziri19SImg/tfs15_5_thumb1.png?imgmax=800" width="524" height="281"></a></p> <p>Note that the wizard explicitly suggests using SSDs for Elastic Search. I can tell you, they really help here.</p> <p>If instead we are going to choose an <strong>Advanced</strong> scenario…</p> <p><a href="https://lh3.googleusercontent.com/-MKVZ43NJPxQ/V3-rSVn2_pI/AAAAAAAADbI/l3q_D_BXGSU/s1600-h/tfs15_612.png"><img title="tfs15_6" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_6" src="https://lh3.googleusercontent.com/-TmPzQbDnXw8/V3-rTBYHFnI/AAAAAAAADbQ/VhWGVZBKdyE/tfs15_6_thumb4.png?imgmax=800" width="524" height="235"></a>…we are going to configure the database settings first:</p> <p><a href="https://lh3.googleusercontent.com/-RQHYBA8VtPs/V3-rUHolFsI/AAAAAAAADbY/oerC5fHVaHo/s1600-h/tfs15_73.png"><img title="tfs15_7" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_7" src="https://lh3.googleusercontent.com/-mwrQzj5ehiA/V3-rVBna5UI/AAAAAAAADbg/Kc191EVLmTA/tfs15_7_thumb1.png?imgmax=800" width="524" height="279"></a></p> <p>Then the service account and the IIS configuration – nothing changed from previous versions. Search is up next and we already saw the configuration required, then Reporting Services and SharePoint. </p> <p>Nothing changed for SSRS and SharePoint, but I really like the <em>recommended suggestion </em>(<strong>enabled by default</strong>! <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-bottom-style: none; border-right-style: none; border-left-style: none" alt="Smile" src="https://lh3.googleusercontent.com/-pQ2Vt2DR57o/V3-rEKUbUoI/AAAAAAAADZQ/LIdY3zlE_Ek/wlEmoticon-smile2.png?imgmax=800">) of using separate accounts for SSRS and Service Account.</p> <p><a href="https://lh3.googleusercontent.com/-xRLHzDdkSSo/V3-rV2vvKNI/AAAAAAAADbo/QA3w_PzvPWs/s1600-h/tfs15_83.png"><img title="tfs15_8" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_8" src="https://lh3.googleusercontent.com/-Evl9yVo7mkc/V3-rW-72mxI/AAAAAAAADbw/lQFvGpBbYeQ/tfs15_8_thumb1.png?imgmax=800" width="524" height="169"></a></p> <p>Eventually, change the name of the <strong>DefaultCollection</strong> if you wish:</p> <p><a href="https://lh3.googleusercontent.com/-nnrEPjHqLqs/V3-rXuWPNyI/AAAAAAAADb4/xm_8L813Kj4/s1600-h/tfs15_93.png"><img title="tfs15_9" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_9" src="https://lh3.googleusercontent.com/-iSVZCCLjBTE/V3-rY6h9M4I/AAAAAAAADcA/mwloay2TyXY/tfs15_9_thumb1.png?imgmax=800" width="524" height="232"></a></p> <p>Is that it? Not really. During the pre-requisite checks you will surely see this error:</p> <p><a href="https://lh3.googleusercontent.com/-6GTY4v8R87E/V3-rZsnNBVI/AAAAAAAADcI/Fqbaaw1Logk/s1600-h/tfs15_104.png"><img title="tfs15_10" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="tfs15_10" src="https://lh3.googleusercontent.com/-S3d50sgg6QU/V3-ravJ_uNI/AAAAAAAADcQ/ZvsGYfHnYEk/tfs15_10_thumb2.png?imgmax=800" width="524" height="97"></a></p> <p>Elastic Search is a Java product, hence a JRE is automatically installed if not found on the machine. Beware, this is always the latest version of the <strong>server JRE</strong>, so it is slightly different than the usual JRE (it doesn’t feature in the Installed Programs list, it doesn’t have a browser plug-in, etc.).</p> <p>There is also a new port to open for it, 9200.</p>