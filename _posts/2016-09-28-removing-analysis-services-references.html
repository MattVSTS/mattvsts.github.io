---
layout: post
title: Removing Analysis Services references when moving a TFS deployment
date: '2016-09-28T16:56:00.001+01:00'
author: Matteo Emili
tags: 
modified_time: '2016-09-28T16:56:37.446+01:00'
thumbnail: https://lh3.googleusercontent.com/-I8An_YdTQ_c/V-voM0QdWZI/AAAAAAAAD2s/uDtblJAtVw4/s72-c/wlEmoticon-smile%25255B2%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-9050180307874313601.post-1229633356663697175
blogger_orig_url: https://mattvsts.blogspot.com/2016/09/removing-analysis-services-references.html
---

<p>When you need to stand up a testing environment, a DR situation or simply a new instance from existing backups you might want to forget about SSAS altogether and go ahead with just the core Team Foundation Server’s databases – something you can’t do if you use the Application Tier Only option.</p> <p>The error you will get is a <strong>TF400952:</strong></p> <p><em>An unexpected error occurred during Analysis Services validation, see logs for details. The component might be damaged or not installed properly. You must exit the Team Foundation Administration Console and install either SQL Server Analysis Services or the SQL Server Client Tools on the application tier to ensure that the Analysis Service object model is present for warehouse processing. Once you have installed the necessary components, open the administration console and re-run the wizard.</em></p> <p>If you run into this, it means you did not follow the <a href="https://msdn.microsoft.com/en-us/library/ms404869(v=vs.120).aspx#clone">documentation</a> about how to setup a deployment on a new hardware <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-left-style: none; border-bottom-style: none; border-right-style: none" alt="Smile" src="https://lh3.googleusercontent.com/-I8An_YdTQ_c/V-voM0QdWZI/AAAAAAAAD2s/uDtblJAtVw4/wlEmoticon-smile%25255B2%25255D.png?imgmax=800"> so back to it, you will run <strong>TFSConfig RemapDBs</strong> at some point, and that is where you need to pay attention.</p> <p>If you run TFSConfig RemapDBs without the <strong>/continue</strong> switch you will just get an error:</p> <p><em>Unable to find any compatible SQL Analysis Services database within the specified instance. The host with name ‘TEAM FOUNDATION’ has been assigned a new connection string.</em></p> <p>So you are stuck. Instead, if you run it with the /continue switch, you will see the command will be executed on the other databases as well, removing the old SSAS reference.</p>