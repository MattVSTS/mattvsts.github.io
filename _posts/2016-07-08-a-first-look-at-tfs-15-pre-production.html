---
layout: post
title: 'A first look at TFS 15: pre-production upgrades'
date: '2016-07-08T17:03:00.000+01:00'
author: Matteo Emili
tags: 
modified_time: '2016-07-09T14:13:27.028+01:00'
thumbnail: https://lh3.googleusercontent.com/-sWPIlZ0o1h4/V3_OdeELHoI/AAAAAAAADfo/yBtixVflrB8/s72-c/wlEmoticon-smile2.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-9050180307874313601.post-3901085359063823808
blogger_orig_url: https://mattvsts.blogspot.com/2016/07/a-first-look-at-tfs-15-pre-production.html
---

<p>In the last post we saw how to install and configure TFS 15. What about upgrades?</p> <p>Well, there are some changes… <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-bottom-style: none; border-right-style: none; border-left-style: none" alt="Smile" src="https://lh3.googleusercontent.com/-sWPIlZ0o1h4/V3_OdeELHoI/AAAAAAAADfo/yBtixVflrB8/wlEmoticon-smile2.png?imgmax=800"></p> <p>Starting from the usual wizard, you will select the option for existing databases:</p> <p><a href="https://lh3.googleusercontent.com/-DVKoNavT2Yw/V3_OeVowScI/AAAAAAAADfw/N4PYGTM46dc/s1600-h/image3.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-SVlV-uPr9wI/V3_OfTqkAsI/AAAAAAAADf4/E-AYLR6cexA/image_thumb1.png?imgmax=800" width="524" height="214"></a></p> <p>Then you need to point it to the appropriate database server – nothing new here:</p> <p><a href="https://lh3.googleusercontent.com/-eoRDhF7VeIo/V3_OgD8LZFI/AAAAAAAADgA/vt8PWzIrhME/s1600-h/image7.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-qXKsK_cJZWc/V3_OhPz8w6I/AAAAAAAADgI/NqKFw_f8dXc/image_thumb3.png?imgmax=800" width="524" height="362"></a></p> <p>Now, this is great. Do you want to run a <strong>Production Upgrade </strong>or a <strong>Pre-Production</strong> (testing!) <strong>Upgrade</strong>? </p> <p><a href="https://lh3.googleusercontent.com/-8uck83PqSDQ/V3_OiMb0OJI/AAAAAAAADgQ/OSH1UvLtf_Q/s1600-h/image11.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-_ZsKGV0X3IY/V3_OiwnCWFI/AAAAAAAADgY/fw__XFpO3Ok/image_thumb5.png?imgmax=800" width="524" height="364"></a></p> <p>Let’s go for the latter, as the Production Upgrade is exactly what we have in the current version and there are no changes to that (except for Search).</p> <p>The next step is <strong>pure guidance</strong>:</p> <p><a href="https://lh3.googleusercontent.com/-eydZvC7I1Ao/V3_Oj4ua-TI/AAAAAAAADgg/JYiTHCW3q14/s1600-h/image19.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-JZ3yn5KnXZY/V3_OkurFgVI/AAAAAAAADgo/Lxebpyt9bCg/image_thumb9.png?imgmax=800" width="524" height="362"></a></p> <p>All the TFSConfig commands are going to be executed by the wizard, which means that the headaches from test upgrades and the risk of conflicting with a production instance are now gone!</p> <p>This is the list of what actually happens at this stage:</p> <p><a href="https://lh3.googleusercontent.com/--7Q15Rp1scE/V3_OlS2qYxI/AAAAAAAADgw/IHIT_8tKpmo/s1600-h/image18.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-ykb6VOstcnA/V3_OmQ9y4lI/AAAAAAAADg4/XxmpoEYRMHE/image_thumb8.png?imgmax=800" width="524" height="294"></a></p> <p>There are <strong>suggestions</strong>, as you can now see:</p> <p><a href="https://lh3.googleusercontent.com/-9iGyXSPWkjs/V3_OnfQLfKI/AAAAAAAADhA/x3Qn7BHCIio/s1600-h/image23.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-L-zC3ovQLh4/V3_OoMRpXkI/AAAAAAAADhI/EAd_p0pi14A/image_thumb11.png?imgmax=800" width="524" height="277"></a></p> <p><a href="https://lh3.googleusercontent.com/-vrKGYAcKMqk/V3_OppOaB9I/AAAAAAAADhQ/eAT885MRZMA/s1600-h/image27.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-RTp_qpmaoCg/V3_Oqi949AI/AAAAAAAADhY/MI8xy2cM2RQ/image_thumb13.png?imgmax=800" width="524" height="266"></a></p> <p><a href="https://lh3.googleusercontent.com/-aEHh8HmJFCc/V3_Or-J79-I/AAAAAAAADhg/NgUP-O-lAns/s1600-h/image43.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-mjjPV4O4lk0/V3_OshVaxAI/AAAAAAAADho/SaWAdntJOXc/image_thumb19.png?imgmax=800" width="524" height="125"></a></p> <p><a href="https://lh3.googleusercontent.com/-bRNRJnYhoLA/V3_OtXvwzaI/AAAAAAAADhw/fQBdQDjVItw/s1600-h/image44.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-YmCmMK1-8r0/V3_OuesjjrI/AAAAAAAADh4/o54tsFpUFOU/image_thumb20.png?imgmax=800" width="524" height="108"></a></p> <p><a href="https://lh3.googleusercontent.com/-Cu_KSpCSk0c/V3_OvddzXdI/AAAAAAAADiA/pH00wAf-gyE/s1600-h/image45.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-M3a8Lq9EJeY/V3_OwdIqd0I/AAAAAAAADiI/xpk17XEVoZk/image_thumb21.png?imgmax=800" width="524" height="97"></a></p> <p><a href="https://lh3.googleusercontent.com/-dQShRWdTw10/V3_OxJcjMWI/AAAAAAAADiQ/RoANT8SqMso/s1600-h/image46.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-ZblFu3WagCg/V3_OyPbdidI/AAAAAAAADiY/ErP-dyJ15YA/image_thumb22.png?imgmax=800" width="524" height="121"></a></p> <p><a href="https://lh3.googleusercontent.com/-ePoQcyYO_Bc/V3_OzPb9LlI/AAAAAAAADig/brbiHNP5pas/s1600-h/image47.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-EqdQ_H-riL8/V3_O0H1lxaI/AAAAAAAADio/isgWWDB7RkY/image_thumb23.png?imgmax=800" width="524" height="117"></a></p> <p>This is really brillant. All the steps are actually the same as a production upgrade, but with all these added tips and especially with the automated cloning steps at the beginning this new wizard really brings value to the TFS Administrator.</p> <p>Here is the result:</p> <p><a href="https://lh3.googleusercontent.com/-m61GViEUavE/V3_O066GlcI/AAAAAAAADiw/sV_0t-LC6tM/s1600-h/image51.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-RoxQG9kJt-g/V3_O13p58FI/AAAAAAAADi4/KI-hnlPuBSU/image_thumb25.png?imgmax=800" width="524" height="242"></a></p> <p>Note that Search is not automatically installed during an upgrade, because it is an opt-in service and given the deployment size it might lead to performance issues installing it by default.</p> <p><a href="https://lh3.googleusercontent.com/-7dSOhvhguCE/V3_O2hSfVkI/AAAAAAAADjA/WP2Jar0zNs0/s1600-h/image55.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-EEmHwsICrNQ/V3_O3oyV6wI/AAAAAAAADjI/qZXufFvAlUg/image_thumb27.png?imgmax=800" width="524" height="394"></a></p> <p>Upgrading also means the new Work Item Form is disabled – it is another opt-in feature. Once you enable it, you can configure who can request it:</p> <p><a href="https://lh3.googleusercontent.com/-PhWjH5oPXKY/V3_O4l8rC9I/AAAAAAAADjQ/DhbGN3oIfBI/s1600-h/image59.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-bNjF6DeieIw/V3_O5gr9drI/AAAAAAAADjY/iDnW22uejJg/image_thumb29.png?imgmax=800" width="524" height="234"></a></p> <p>This is really a fantastic job by the TFS team!</p>