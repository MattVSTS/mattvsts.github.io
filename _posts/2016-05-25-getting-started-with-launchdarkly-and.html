---
layout: post
title: Getting started with LaunchDarkly and client-side feature flags
date: '2016-05-25T09:41:00.001+01:00'
author: Matteo Emili
tags: 
modified_time: '2016-05-25T09:41:35.033+01:00'
thumbnail: https://lh3.googleusercontent.com/-q8TjAv26v1I/V0VlC6vNtSI/AAAAAAAADMw/ZkWlp4p4pAE/s72-c/wlEmoticon-smile2.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-9050180307874313601.post-3553767538957073115
blogger_orig_url: https://mattvsts.blogspot.com/2016/05/getting-started-with-launchdarkly-and.html
---

<p>These days it is extremely easy to start using Feature Flags, especially with a service like LaunchDarkly.</p> <p>In my case, I just wanted to setup a quick demo of client-side feature flags using only plain JavaScript and LaunchDarkly – I am pleased to say it is extremely easy even for a Web 0.9 chap like me! (Yep, I never really got into the Web 2.0 and the WhateverJS frameworks craze of the last few years <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-left-style: none; border-bottom-style: none; border-right-style: none" alt="Smile" src="https://lh3.googleusercontent.com/-q8TjAv26v1I/V0VlC6vNtSI/AAAAAAAADMw/ZkWlp4p4pAE/wlEmoticon-smile2.png?imgmax=800">)</p> <p>Let’s start with a few assumptions:</p> <ul> <li>I want to use LaunchDarkly to manage my Feature Flags (and there might be many reasons behind this choice)  <li>I want to show features only for authenticated users</li></ul> <p>I am not going to authenticate users myself&nbsp; so in this case I am going to rely on LaunchDarkly acting as an authentication backend as well. This is totally done on purpose – when a feature is going public then no authentication is required to use it, otherwise a user would be <em>authenticated</em> against LaunchDarkly.</p> <p>So, I need to create Feature Flags on launchdarkly.com:</p> <p><a href="https://lh3.googleusercontent.com/-J730pKH_fQ4/V0VlDjncutI/AAAAAAAADM4/L7BA0-dFDDQ/s1600-h/image7.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-5DwzcYZdiqY/V0VlEQebK6I/AAAAAAAADNA/TGyUnirXKIU/image_thumb3.png?imgmax=800" width="524" height="138"></a></p> <p>Each Feature Flag has a key (<strong>feature-*</strong> might be a good naming convention), and it is important to set any feature as <strong>Available in client-side snippet</strong> to access them via JavaScript.</p> <p><a href="https://lh3.googleusercontent.com/-uH0p50PRPbk/V0VlE3jBFYI/AAAAAAAADNI/Il3bH5QrzMg/s1600-h/image5.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-P5aJU1yGrj4/V0VlFjQbHBI/AAAAAAAADNQ/lHuaVaGJ7PY/image_thumb1.png?imgmax=800" width="200" height="244"></a></p> <p>Then add the JavaScript SDK as per the documentation:</p> <p><a href="https://lh3.googleusercontent.com/-89jGFH3R-Uk/V0VlGeHiAhI/AAAAAAAADNY/pNBR9q8gX8c/s1600-h/image11.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-tbNgglOnXFM/V0VlHeeQFiI/AAAAAAAADNg/vCHZ4HLNq1w/image_thumb5.png?imgmax=800" width="524" height="65"></a></p> <p>Now, all I am doing is extremely easy: starting with the empty ASP.NET Application, I am going to remove the views statically referred by the Controller in the list on the navbar, and I am going to add an id attribute to this list:</p> <p><a href="https://lh3.googleusercontent.com/-FOSxCJSP3i4/V0VlIJmlR-I/AAAAAAAADNo/djpIb2CT5FM/s1600-h/image14.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-ahU9xpjTwkQ/V0VlI58Ri5I/AAAAAAAADNw/wu5Zcoj2j-Q/image_thumb6.png?imgmax=800" width="244" height="42"></a></p> <p>Then I am going to add this series of scripts:</p> <p><a href="https://lh3.googleusercontent.com/-PzEbSZzcvFk/V0VlJ5GL2PI/AAAAAAAADN4/RGeLM5J-JJE/s1600-h/image17.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-uajT40y6A-U/V0VlKlg0obI/AAAAAAAADOA/2OIBA-WjkyI/image_thumb7.png?imgmax=800" width="179" height="244"></a></p> <p>The EnableFlags() function is going to retrieve the potentially authenticated user from the Local Storage (I am using it as a mean to save the authenticated user – there is no real backend in this application <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-left-style: none; border-bottom-style: none; border-right-style: none" alt="Smile" src="https://lh3.googleusercontent.com/-q8TjAv26v1I/V0VlC6vNtSI/AAAAAAAADMw/ZkWlp4p4pAE/wlEmoticon-smile2.png?imgmax=800">), authenticate this user against Launch Darkly, clean the list, and then check if any of my feature flags is turned on for the user. If so, the aforementioned list is dynamically populated.</p> <p>Bear in mind – this works also for non authenticated users.If a feature is available for them it will show up.</p> <p>The two other functions are Login() and Logout() – the first sets the user in the local storage and the second one deletes the user. Again, this is not cool or production JavaScript but it is for demo purposes and it works <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-left-style: none; border-bottom-style: none; border-right-style: none" alt="Smile" src="https://lh3.googleusercontent.com/-q8TjAv26v1I/V0VlC6vNtSI/AAAAAAAADMw/ZkWlp4p4pAE/wlEmoticon-smile2.png?imgmax=800"></p> <p>What happens is very nice: I can start deploying my application only to the users I want to:</p> <p><a href="https://lh3.googleusercontent.com/-JXNYqSssm8Q/V0VlLiCvQKI/AAAAAAAADOI/dQPG-UdBRVI/s1600-h/image20.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-BYV53sLlyUU/V0VlMerCh5I/AAAAAAAADOQ/NvL8vnH-QdM/image_thumb8.png?imgmax=800" width="244" height="97"></a></p> <p>Once I am confident with my code, I can rollout the feature to all or a percentage of my anonymous users:</p> <p><a href="https://lh3.googleusercontent.com/-UEeVmzXuDtc/V0VlNLLUW0I/AAAAAAAADOY/s_8feK5nAr4/s1600-h/image23.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-W37TXaUO1kU/V0VlNzEeohI/AAAAAAAADOg/hlM-eVKbyoE/image_thumb9.png?imgmax=800" width="244" height="139"></a></p> <p>This is just a starting point, the coolest part about LaunchDarkly is that you can integrate it with VSTS so you can rollout a feature at release time:</p> <p><a href="https://lh3.googleusercontent.com/--0todg75onA/V0VlOpY4OrI/AAAAAAAADOo/bkSW0mUbaCw/s1600-h/image26.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-aK_JpcDnAYw/V0VlPt7zcTI/AAAAAAAADOw/zOhC4j1KE8w/image_thumb10.png?imgmax=800" width="244" height="203"></a></p> <p>Use Feature Flags, <a href="http://featureflags.io/resources/">implement</a> them with either OSS libraries or with Launch Darkly, they make life so easier when it comes to delivering value for your customers! </p>