---
layout: post
title: Some tips on adding other levels above the Feature
date: '2013-07-02T11:59:00.001+01:00'
author: Matteo Emili
tags: 
modified_time: '2013-07-02T11:59:25.054+01:00'
thumbnail: http://lh5.ggpht.com/-rboSup_GMq0/UdKybZsltLI/AAAAAAAABAM/zKq_Q2mPSf0/s72-c/image_thumb%25255B2%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-9050180307874313601.post-8616234645826307541
blogger_orig_url: https://mattvsts.blogspot.com/2013/07/some-tips-on-adding-other-levels-above.html
---

<p>I know, I know – we have it on the <a href="http://msdn.microsoft.com/library/dn217880(v=vs.120).aspx">MSDN</a>. But I wanted to take the other route, which is not using witadmin and using the old Visual Studio 2012 with its Power Tools and limiting the raw XML editing to the pure essential part. It went pretty well I have to say. Let’s see…</p> <p>First of all, download the Process Template you want to add levels above the Feature one (Themes anyone? :)).</p> <p>When you’re going to open it with Visual Studio, you are going to see that both the Agile and Common Process Settings are empty.</p> <p><a href="http://lh3.ggpht.com/-5m-Hw8D3CAQ/UdKyaw9ZTKI/AAAAAAAABAE/RSs4GpM8J4c/s1600-h/image%25255B4%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh5.ggpht.com/-rboSup_GMq0/UdKybZsltLI/AAAAAAAABAM/zKq_Q2mPSf0/image_thumb%25255B2%25255D.png?imgmax=800" width="761" height="188"></a> </p> <p>This is because Microsoft changed the structure of the Process Settings, merging everything into a <strong>ProcessConfiguration.xml</strong> file. No worries anyway, we can fix it.</p> <p>So, copy and paste the Feature.xml work item, renaming it to Themes.xml, and fixing the WORKITEMTYPE name:</p> <p><a href="http://lh4.ggpht.com/-KbuGOv5MulA/UdKyb--C2yI/AAAAAAAABAU/Sr2dVCNAM50/s1600-h/image%25255B8%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh6.ggpht.com/-BxbQETWgQ5k/UdKycZAWwYI/AAAAAAAABAc/AuQysjj-f24/image_thumb%25255B4%25255D.png?imgmax=800" width="656" height="215"></a> </p> <p>Import it into the Process Template:</p> <p><a href="http://lh5.ggpht.com/-I1xbZyoQPvo/UdKycmqEy6I/AAAAAAAABAk/JqxrzdgdWjo/s1600-h/image%25255B18%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh6.ggpht.com/-ydwTEwdQW3c/UdKydeJerII/AAAAAAAABAs/mIHNSl1D2kY/image_thumb%25255B8%25255D.png?imgmax=800" width="510" height="312"></a> </p> <p>Now you can create a new Category using the IDE, and adding the aforementioned <strong>Theme.</strong> Use <strong>Custom.ThemeCategory</strong> as a reference name or whatever you may feel right for your custom category:</p> <p><a href="http://lh5.ggpht.com/-1Y-M8-7Ebyk/UdKyd9HPOKI/AAAAAAAABA0/6ZbFaXdiFA4/s1600-h/image%25255B11%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh6.ggpht.com/-tx4p9g5VVdw/UdKyeeaOp_I/AAAAAAAABA8/VOxoPSH1Uwg/image_thumb%25255B5%25255D.png?imgmax=800" width="200" height="72"></a> </p> <p>Now open the Theme.xml file. You have to fix the Implementation Hierarchy. This is very important in order to let you select <strong>Features</strong> as children.</p> <p><a href="http://lh5.ggpht.com/-kS5UuS7g1m8/UdKyevY0_JI/AAAAAAAABBE/y-ll3zagAsc/s1600-h/image%25255B23%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh6.ggpht.com/-srjUbbKoFrc/UdKyfLkrdwI/AAAAAAAABBI/xfKJxvkcVCw/image_thumb%25255B11%25255D.png?imgmax=800" width="595" height="413"></a> </p> <p>Now, delete whatever it is not <strong>ProcessConfiguration.xml</strong> into the \WorkItem Tracking\Process folder, and fix the <strong>WorkItems.xml </strong>into \WorkItem Tracking:</p> <p><a href="http://lh6.ggpht.com/-OwkCHwWB4XY/UdKyfg6J2bI/AAAAAAAABBU/xTECzlVjGpU/s1600-h/image%25255B30%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh6.ggpht.com/-21vedmAM7gE/UdKygIF_WcI/AAAAAAAABBc/CHrUuv_UP98/image_thumb%25255B14%25255D.png?imgmax=800" width="652" height="272"></a> </p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Now, let’s add a node to the <strong>PortfolioBacklogs</strong> section of the ProcessConfiguration.xml. </p> <p><a href="http://lh4.ggpht.com/-afdwmVPxLmk/UdKygth3SaI/AAAAAAAABBk/7y0O7LVCDfw/s1600-h/image%25255B34%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh4.ggpht.com/-WJMS3xzVwUA/UdKyhJapX-I/AAAAAAAABBs/AE30PWukuMA/image_thumb%25255B16%25255D.png?imgmax=800" width="504" height="404"></a> </p> <p>It is enough to copy and paste the Feature’s one, but here it is very important to add <strong>parent=”Custom.ThemeCategory” </strong>to the existing Feature, in order to keep the linear hierarchy and avoid a “The following element contains an error: PortfolioBacklogs. <strong>TF401096</strong>: This element defines the hierarchy relationship between portfolio backlogs and must define a linear hierarchy from bottom to top. The specified hierarchy is invalid.” error.</p> <p><a href="http://lh5.ggpht.com/-gjreftd7LKA/UdKyhjxI1TI/AAAAAAAABB0/bVlbZkLtfXE/s1600-h/image%25255B43%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh4.ggpht.com/-1mKH5QFBry8/UdKyiBY5VBI/AAAAAAAABB8/ZS38vMB0AYE/image_thumb%25255B21%25255D.png?imgmax=800" width="502" height="64"></a> </p> <p>Moreover, add a node to the WorkItemColor section, but remember to follow the existing colour pattern, otherwise the Process Template won’t upload. I used the same colour, but of course you can use others. Just keep in mind the pattern.</p> <p><a href="http://lh6.ggpht.com/-stV597E2xrE/UdKyiifJhDI/AAAAAAAABCE/OVmCvR9kre4/s1600-h/image%25255B53%25255D.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="http://lh3.ggpht.com/-GnwgnZj7y-s/UdKyiwMRIDI/AAAAAAAABCM/7ZhFItlMSxI/image_thumb%25255B27%25255D.png?imgmax=800" width="706" height="112"></a> </p> <p>That’s all! Now you can upload your Process Template and you’re going to get another level above Feature with all the associated tools (board, etc.)</p>  