---
layout: post
title: How a (home)lab helps a TFS admin
date: '2017-06-14T14:52:00.001+01:00'
author: Matteo Emili
tags: 
modified_time: '2017-06-14T14:52:21.295+01:00'
thumbnail: https://lh3.googleusercontent.com/-9uq9EDbElMM/WUE_lPbJZNI/AAAAAAAAEek/OjQzS00KRt8zCNgXmlBq8KJwLqPdRQbuwCHMYCw/s72-c/wlEmoticon-smile%255B2%255D?imgmax=800
blogger_id: tag:blogger.com,1999:blog-9050180307874313601.post-1268470478327854828
blogger_orig_url: https://mattvsts.blogspot.com/2017/06/how-homelab-helps-tfs-admin.html
---

<p>I’ve always been a fan of homelabs. It is common knowledge that I am a huge advocate of virtualisation technologies, and pretty much all my machines feature at least Hyper-V running on them. </p><p>If you are not familiar with this, a homelab is a set of machines you run at home which simulate a proper enterprise environment. This does not mean a 42U cabinet full of massive servers, but even just a decently-sized workstation acting as VM host would do. The key here is <strong>enterprise</strong>, so ADDS, DNS, DHCP, the usual suspects indeed, plus your services. </p><p>What I am going to talk about is applicable to <em>corporate labs</em> as well, albeit this can be less fun <img class="wlEmoticon wlEmoticon-smile" style="" alt="Smile" src="https://lh3.googleusercontent.com/-9uq9EDbElMM/WUE_lPbJZNI/AAAAAAAAEek/OjQzS00KRt8zCNgXmlBq8KJwLqPdRQbuwCHMYCw/wlEmoticon-smile%255B2%255D?imgmax=800"></p><p>So, if you are a TFS administrator, what are the advantages of a lab?</p><blockquote><p><em>Testing upgrades!</em></p></blockquote><p>Yes, test upgrades are one of the uses of a lab. But not just testing the upgrade itself, it also helps understanding how long an upgrade will take and what are the crucial areas you need to be aware of.</p><p>In an ideal world, you will have an exact copy of the production hardware so you might be able to have a very accurate forecast. This helps of course, but it will also hide what are the critical areas in your deployment.</p><p>Let’s take TFS 2017&nbsp; – one of the most expensive steps is the <a href="https://blogs.msdn.microsoft.com/visualstudioalm/2016/11/16/test-result-storage-improvements-and-impact-on-upgrading-to-team-foundation-server-2017/">migration</a> of all the test results data in a collection to a different schema. </p><p>This is a very intensive operation, and having a lab where you know inside-out any finer detail about your hardware really helps when it comes to planning the proper upgrade, especially if you have a large deployment. </p><p>Without mentioning that in case of failure you are not breaking anybody’s day and you can work on your own schedule.</p><p>Also, you will find that sometimes you might need to experiment with settings that require a service interruption. The lab is yours, so you are not affecting anybody again and you can go straight to the solution when it comes to the production environment.</p><p>All of that sounds reasonable and maybe too simplicistic, but I saw too many instances where there was no lab and the only strategy was <em>test-and-revert-if-fails, </em>given that Team Foundation Server is <em>“just a DB and IIS” </em>(yeah…). </p><p>Definitely not something you want to see or hear, trust me <img class="wlEmoticon wlEmoticon-smile" style="" alt="Smile" src="https://lh3.googleusercontent.com/-9uq9EDbElMM/WUE_lPbJZNI/AAAAAAAAEek/OjQzS00KRt8zCNgXmlBq8KJwLqPdRQbuwCHMYCw/wlEmoticon-smile%255B2%255D?imgmax=800"></p>