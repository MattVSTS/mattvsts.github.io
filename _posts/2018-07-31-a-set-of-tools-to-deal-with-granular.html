---
layout: post
title: A set of tools to deal with granular VSTS migrations
date: '2018-07-31T17:11:00.000+01:00'
author: Matteo Emili
tags: 
modified_time: '2018-07-31T17:11:46.373+01:00'
blogger_id: tag:blogger.com,1999:blog-9050180307874313601.post-6553480179728275655
blogger_orig_url: https://mattvsts.blogspot.com/2018/07/a-set-of-tools-to-deal-with-granular.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">I am in the middle of a TFS to VSTS migration, and unfortunately I cannot use the <a href="https://visualstudio.microsoft.com/team-services/migrate-tfs-vsts/">TFS Database Import Service</a> this time around. So I put together this list of tools to use for a granular migration, together with scenarios.<br /><br />It is going to be mostly on the Work Item side to be fair - if you want to move code quickly look at the <a href="https://mattvsts.blogspot.com/2018/07/i-want-to-move-my-project-from-tfvc-on.html">last post</a>.<br /><br /><h3 style="text-align: left;">TFS Integration Platform</h3><div>Yes, I start from the <a href="https://marketplace.visualstudio.com/items?itemName=Willy-PSchaub.TeamFoundationServerIntegrationToolsMarch2012Relea">oldest </a>of the bunch. While unsupported and fairly old, the Integration Platform still works decently given the chance.&nbsp;</div><div><br /></div><div>There are lots of limitations though: you are limited to the Client OM, and you need some tricks to make it work, like creating fake registry entry to make it believe you actually have Team Explorer 2012 (unless you install it, of course).</div><div><br /></div><div>I reckon the Integration Platform these days works well with a limited scope migration. The pain here is that everything needs to be sorted manually and it gets sluggish after a while, for some reason.</div><div><br /></div><h3 style="text-align: left;">TfsCmdlets</h3><div>Say that you want to quickly work with Areas and Iterations, or that you want to script them. This is an example where the <a href="https://github.com/igoravl/tfscmdlets">TfsCmdlets</a>&nbsp;are extremely powerful.&nbsp;</div><div><br /></div><div>In my case, I am using them extensively to prepare empty target Team Projects. It is basic PowerShell, hence you can manipulate your objects as you like and they make your life extremely easy.</div><div><br /></div><div>You don't migrate stuff with the TfsCmdlets, but it is a really invaluable tool for all the ancillary items around the migration itself.</div><div><br /></div><h3 style="text-align: left;">VSTS Work Item Migrator</h3><div style="text-align: left;">The <a href="https://github.com/Microsoft/vsts-work-item-migrator">Work Item Migrator</a> is an open source project from Microsoft that leverages the REST API layer of TFS and VSTS.</div><div style="text-align: left;"><br /></div><div style="text-align: left;">It is more of a sample of how to deal with the APIs IMHO, but it is an excellent starting point. It is based off a Work Item Query as a source, which means you can easily scope what you want. Areas and Iterations need to be created beforehand.</div><div style="text-align: left;"><br /></div><div style="text-align: left;">One note here: if the validation succeeds, it is not guaranteed that the tool will migrate everything, but that depends on many factors.</div><div style="text-align: left;"><br /></div><h3 style="text-align: left;">VSTS Sync Migrator</h3><div>Martin Hinshelwood's <a href="https://vsts-bulk-editor.readthedocs.io/en/latest/getting-started/">VSTS Sync Migrator</a> is a real powerhouse - it is quite complex and it has lots of features (including reconnecting commits to Work Items), it can take a little while to refine the result but it is great.</div><div><br /></div><div>You can also do remaps with this tool, so you can easily migrate from one Process Template to another. It is easy to do because you will configure it yourself in the configuration file. What I really like about this tool is that I can have a very complex configuration but keep some of the steps in a disabled state - so I can have a nice incremental experience.</div></div>